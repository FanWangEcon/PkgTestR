[{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"initialize-a-skeleton-package","dir":"Articles","previous_headings":"","what":"Initialize a Skeleton Package","title":"Using devtools to Create a R Package","text":"devtools, create new package. First, use create function, devtools:create(“PATH_TO_NEW_PRJ_FOLDER”, open=TRUE), generate folder interest. devtools:create(PATH, open) function: .gitignore file can replaced contents github’s R.gitignore Creates R folder. second optional parameter open start new session RStudio desktop package opened. opened, bottom right panel set project directory. left, console panel, top bar status project directory well. Note hidden folder .Rproj.user, ignored .gitignore file, might begin populating temporary contents working RStudio project. Second, go just created DESCRIPTION (e.g., “G:/repos/PkgTestR/DESCRIPTION”) file, modify Title author information. Third, create LICENSE file example MIT License root directory just created (e.g., LICENSE)","code":"devtools::create(\"G:/repos/PkgTestR\", open=TRUE)  # ✔ Creating 'G:/repos/PkgTestR/' # ✔ Setting active project to 'G:/repos/PkgTestR' # ✔ Creating 'R/' # ✔ Writing 'DESCRIPTION' # Package: PkgTestR # Title: What the Package Does (One Line, Title Case) # Version: 0.0.0.9000 # Authors@R (parsed): #     * First Last <first.last@example.com> [aut, cre] (YOUR-ORCID-ID) # Description: What the package does (one paragraph). # License: `use_mit_license()`, `use_gpl3_license()` or friends to #     pick a license # Encoding: UTF-8 # Roxygen: list(markdown = TRUE) # RoxygenNote: 7.2.0 # ✔ Writing 'NAMESPACE' # ✔ Writing 'PkgTestR.Rproj' # ✔ Adding '^PkgTestR\\\\.Rproj$' to '.Rbuildignore' # ✔ Adding '.Rproj.user' to '.gitignore' # ✔ Adding '^\\\\.Rproj\\\\.user$' to '.Rbuildignore' # ✔ Opening 'G:/repos/PkgTestR/' in new RStudio session # ✔ Setting active project to '<no active project>' Package: PkgTestR Title: Testing the Creation of a R Package Version: 0.0.0.9000 Authors@R:     person(\"Fan\", \"Wang\", , \"fanwecon@gmail.com\", role = c(\"aut\", \"cre\"),            comment = c(ORCID = \"0000-0003-2640-5420\")) Description: Creating a R package and a website with pkgdown License: MIT + file LICENSE Encoding: UTF-8 Roxygen: list(markdown = TRUE) RoxygenNote: 7.2.0"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"write-a-function","dir":"Articles","previous_headings":"","what":"Write a Function","title":"Using devtools to Create a R Package","text":"Now, write function markups, stored file /R directory root. , slightly modified function roxygen2 vignette. function R/ff_rtest_add.R","code":"#' Add together two numbers #' #' @description This function provides an example with Roxygen2 markups. #' We can internally reference the sister function [ff_rtest_mul_basic()]. #' #' @param ar_fl_x Scalar or vector of numbers #' @param ar_fl_y Scalar or vector of numbers #' @return The sum of \\code{ar_fl_x} and \\code{ar_fl_y} #' @export #' @examples #' ff_rtest_add_basic(1, 1) #' ff_rtest_add_basic(c(10,10), c(1,3)) #' @references #' \\url{https://cran.r-project.org/web/packages/roxygen2/vignettes/roxygen2.html} #' @seealso [ff_rtest_mul_basic()] for multiplication. #' @author Fan Wang, \\url{http://fanwangecon.github.io} ff_rtest_add_basic <- function(ar_fl_x, ar_fl_y) {   ar_fl_sum <- ar_fl_x + ar_fl_y   return(ar_fl_sum) }"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"document-check-and-install-package","dir":"Articles","previous_headings":"","what":"Document, Check, and Install Package","title":"Using devtools to Create a R Package","text":"steps , run functions devtools shown create install package several functions vignettes. running file , can check inside R ?ff_rtest_add_basic see examples.","code":"# First devtools::document(pkg=\"G:/repos/PkgTestR\") # Second devtools::run_examples(pkg=\"G:/repos/PkgTestR\") devtools::build_vignettes(pkg=\"G:/repos/PkgTestR\") # Third devtools::check(pkg=\"G:/repos/PkgTestR\") # Fourth devtools::install(pkg=\"G:/repos/PkgTestR\")"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"devtoolsdocument","dir":"Articles","previous_headings":"Document, Check, and Install Package","what":"devtools::document()","title":"Using devtools to Create a R Package","text":"create documentations install package using devtools. First, document function created, using devtools::document(). updates NAMESPACE functions @export, also generate R documention files man folder. function created, ff_rtest_add_basic(), now R documentation file, man/ff_rtest_add_basic.Rd. file automatically generated roxygen2, looks like :","code":"devtools::document(pkg=\"G:/repos/PkgTestR\") % Generated by roxygen2: do not edit by hand % Please edit documentation in R/ff_rtest_add.R \\name{ff_rtest_add_basic} \\alias{ff_rtest_add_basic} \\title{Add together two numbers} \\usage{ ff_rtest_add_basic(ar_fl_x, ar_fl_y) } \\arguments{ \\item{ar_fl_x}{Scalar or vector of numbers}  \\item{ar_fl_y}{Scalar or vector of numbers} } \\value{ The sum of \\code{ar_fl_x} and \\code{ar_fl_y} } \\description{ This function provides an example with Roxygen2 markups. We can internally reference the sister function \\code{\\link[=ff_rtest_mul_basic]{ff_rtest_mul_basic()}}. } \\examples{ ff_rtest_add_basic(1, 1) ff_rtest_add_basic(c(10,10), c(1,3)) } \\references{ \\url{https://cran.r-project.org/web/packages/roxygen2/vignettes/roxygen2.html} } \\seealso{ \\code{\\link[=ff_rtest_mul_basic]{ff_rtest_mul_basic()}} for multiplication. } \\author{ Fan Wang, \\url{http://fanwangecon.github.io} }"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"run-examples-and-vignettes","dir":"Articles","previous_headings":"Document, Check, and Install Package","what":"Run Examples and Vignettes","title":"Using devtools to Create a R Package","text":"second step, run examples, testing specific functions come Roxygen2 example snippets enter help file functions, also generate files based vignettes, tutorial general guidance files might might associated specific functions package.","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"devtoolsrun_examples","dir":"Articles","previous_headings":"Document, Check, and Install Package > Run Examples and Vignettes","what":"devtools::run_examples()","title":"Using devtools to Create a R Package","text":"test examples functions devtools::run_examples.","code":"devtools::run_examples(pkg=\"G:/repos/PkgTestR\")  # ℹ Updating PkgTestR documentation # ℹ Loading PkgTestR # ── Running 1 example files ──────────────────────────────────────────────────────────────────── PkgTestR ── # ℹ Loading PkgTestR # # > # Name: ff_rtest_add_basic # > # Title: Add together two numbers # > # Aliases: ff_rtest_add_basic # > # > # ** Examples # > # > ff_rtest_add_basic(1, 1) # [1] 2 # # > ff_rtest_add_basic(c(10,10), c(1,3)) # [1] 11 13 # ℹ Loading PkgTestR"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"devtoolsbuild_vignettes","dir":"Articles","previous_headings":"Document, Check, and Install Package > Run Examples and Vignettes","what":"devtools::build_vignettes()","title":"Using devtools to Create a R Package","text":"write vignette file, following instructions page. fact, present page (vignettes/ffv_devtools_create_package.Rmd) vignette page. can automatically create vignette using usethis::use_vignette. make automated updates DESCRIPTION make appropriate changes. Note , front matter top otherwise standard markdown file makes vignette file: Also note, need add VignetteBuilder DESCRIPTION file root: use devtools::build_vignette function, generate doc folder exist, store HTML/R/RMD versions vignette file, name, . Note different pkgdown generate vignette files, part project website.","code":"usethis::use_vignette(\"ffv_pkgdown_github\", title = \"Generate Package Website with pkgdown and Github Pages\")  # > usethis::use_vignette(\"ffv_pkgdown_github\", title = \"Generate Package Website with pkgdown and Github Pages\") # ✔ Setting active project to 'G:/repos/PkgTestR' # ✔ Adding 'inst/doc' to '.gitignore' # ✔ Adding '*.html', '*.R' to 'vignettes/.gitignore' # ✔ Writing 'vignettes/ffv_pkgdown_github.Rmd' # • Modify 'vignettes/ffv_pkgdown_github.Rmd' --- title: \"Put the title of your vignette here\" output: rmarkdown::html_vignette vignette: >   %\\VignetteIndexEntry{Put the title of your vignette here}   %\\VignetteEngine{knitr::rmarkdown}   \\usepackage[utf8]{inputenc} --- Suggests: knitr, rmarkdown VignetteBuilder: knitr devtools::build_vignettes(pkg=\"G:/repos/PkgTestR\")  # ℹ Building PkgTestR vignettes # ℹ Moving ffv_devtools_create_package.html and ffv_devtools_create_package.R to doc/ # ℹ Copying ffv_devtools_create_package.Rmd to doc/ # ℹ Building vignette index"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"devtoolscheck","dir":"Articles","previous_headings":"Document, Check, and Install Package","what":"devtools::check()","title":"Using devtools to Create a R Package","text":"Third, update documentation, build load package, check package locally devtools::check. can slow, show errors, warnings, notes. errors warnings resolved package can released CRAN. Note check() also updates documentation .Rd files based functions Roxygen2 markups R folder.","code":"devtools::check(pkg=\"G:/repos/PkgTestR\")  # ℹ Updating PkgTestR documentation # ℹ Loading PkgTestR # ── Building ─────────────────────────────────────────────────────────────────────────────────── PkgTestR ── # Setting env vars: # • CFLAGS    : -Wall -pedantic -fdiagnostics-color=always # • CXXFLAGS  : -Wall -pedantic -fdiagnostics-color=always # • CXX11FLAGS: -Wall -pedantic -fdiagnostics-color=always # • CXX14FLAGS: -Wall -pedantic -fdiagnostics-color=always # • CXX17FLAGS: -Wall -pedantic -fdiagnostics-color=always # • CXX20FLAGS: -Wall -pedantic -fdiagnostics-color=always # ─────────────────────────────────────────────────────────────────────────────────────────────────────────── # ✔  checking for file 'G:\\repos\\PkgTestR/DESCRIPTION' # ─  preparing 'PkgTestR': # ✔  checking DESCRIPTION meta-information ... # ─  checking for LF line-endings in source and make files and shell scripts # ─  checking for empty or unneeded directories # ─  building 'PkgTestR_0.0.0.9000.tar.gz' # # ── Checking ─────────────────────────────────────────────────────────────────────────────────── PkgTestR ── # Setting env vars: # • _R_CHECK_CRAN_INCOMING_REMOTE_: FALSE # • _R_CHECK_CRAN_INCOMING_       : FALSE # • _R_CHECK_FORCE_SUGGESTS_      : FALSE # • NOT_CRAN                      : true # ── R CMD check ──────────────────────────────────────────────────────────────────────────────────────────── # ─  using log directory 'C:/Users/fan/AppData/Local/Temp/RtmpozS3Eh/PkgTestR.Rcheck' (361ms) # ─  using R version 4.2.1 (2022-06-23 ucrt) # ─  using platform: x86_64-w64-mingw32 (64-bit) # ─  using session charset: UTF-8 # ─  using options '--no-manual --as-cran' # ✔  checking for file 'PkgTestR/DESCRIPTION' ... # ─  this is package 'PkgTestR' version '0.0.0.9000' # ─  package encoding: UTF-8 # ✔  checking package namespace information ... # ✔  checking package dependencies (1.3s) # ✔  checking if this is a source package # ✔  checking if there is a namespace ... # ✔  checking for executable files (467ms) # ✔  checking for hidden files and directories ... # ✔  checking for portable file names ... # ✔  checking serialization versions ... # ✔  checking whether package 'PkgTestR' can be installed (1.8s) # ✔  checking installed package size ... # ✔  checking package directory # ✔  checking for future file timestamps ... # ✔  checking DESCRIPTION meta-information (391ms) # ✔  checking top-level files # ✔  checking for left-over files ... # ✔  checking index information # ✔  checking package subdirectories ... # ✔  checking R files for non-ASCII characters ... # ✔  checking R files for syntax errors ... # ✔  checking whether the package can be loaded ... # ✔  checking whether the package can be loaded with stated dependencies ... # ✔  checking whether the package can be unloaded cleanly ... # ✔  checking whether the namespace can be loaded with stated dependencies ... # ✔  checking whether the namespace can be unloaded cleanly ... # ✔  checking loading without being on the library search path ... # ✔  checking dependencies in R code ... # ✔  checking S3 generic/method consistency (561ms) # ✔  checking replacement functions ... # ✔  checking foreign function calls ... # ✔  checking R code for possible problems (3.1s) # ✔  checking Rd files (344ms) # ✔  checking Rd metadata ... # ✔  checking Rd line widths ... # ✔  checking Rd cross-references ... # ✔  checking for missing documentation entries ... # ✔  checking for code/documentation mismatches (703ms) # ✔  checking Rd \\usage sections (778ms) # ✔  checking Rd contents ... # ✔  checking for unstated dependencies in examples ... # ✔  checking examples (656ms) # ✔  checking for non-standard things in the check directory ... # ✔  checking for detritus in the temp directory ... # # # ── R CMD check results ─────────────────────────────────────────────────────────── PkgTestR 0.0.0.9000 ──── # Duration: 15s # # 0 errors ✔ | 0 warnings ✔ | 0 notes ✔"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"devtoolsinstall","dir":"Articles","previous_headings":"Document, Check, and Install Package","what":"devtools::install()","title":"Using devtools to Create a R Package","text":"Using devtools::install, install package locally.","code":"# devtools::build(pkg=\"G:/repos/PkgTestR\", path=\"G:/repos/\", manual=TRUE) devtools::install(pkg=\"G:/repos/PkgTestR\", build=TRUE, force=TRUE)  # ✔  checking for file 'G:\\repos\\PkgTestR/DESCRIPTION' (353ms) # ─  preparing 'PkgTestR': # ✔  checking DESCRIPTION meta-information ... # ─  checking for LF line-endings in source and make files and shell scripts # ─  checking for empty or unneeded directories # ─  building 'PkgTestR_0.0.0.9000.tar.gz'  # Running \"C:/PROGRA~1/R/R-42~1.1/bin/x64/Rcmd.exe\" INSTALL \\ #   \"C:\\Users\\fan\\AppData\\Local\\Temp\\RtmpozS3Eh/PkgTestR_0.0.0.9000.tar.gz\" --install-tests # * installing to library 'C:/Users/fan/AppData/Local/R/win-library/4.2' # * installing *source* package 'PkgTestR' ... # ** using staged installation # ** R # ** byte-compile and prepare package for lazy loading # ** help # *** installing help indices # ** building package indices # ** testing if installed package can be loaded from temporary location # ** testing if installed package can be loaded from final location # ** testing if installed package keeps a record of temporary installation path # * DONE (PkgTestR)"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"build-binary-and-manual","dir":"Articles","previous_headings":"","what":"Build Binary and Manual","title":"Using devtools to Create a R Package","text":"share package, build .tar.gz file, default, path specified, stored parent folder current package. also create manual using functions’ Roxygen2 markups. First, building binary. Second, creating PDF Manual. combines .Rd files together comverts PDF.","code":"# Update/build the binary devtools::build(pkg=\"G:/repos/PkgTestR\", path=\"G:/repos/\")  # ✔  checking for file 'G:\\repos\\PkgTestR/DESCRIPTION' # ─  preparing 'PkgTestR': # ✔  checking DESCRIPTION meta-information ... # ─  installing the package to build vignettes # ✔  creating vignettes (4.8s) # ─  checking for LF line-endings in source and make files and shell scripts # ─  checking for empty or unneeded directories # ─  building 'PkgTestR_0.0.0.9000.tar.gz' # # [1] \"G:/repos//PkgTestR_0.0.0.9000.tar.gz\" # Create PDF devtools::build_manual(pkg=\"G:/repos/PkgTestR\", path=\"G:/repos/\")  # Hmm ... looks like a package # Converting Rd files to LaTeX # Creating pdf output from LaTeX ... # This is pdfTeX, Version 3.14159265-2.6-1.40.21 (TeX Live 2020/W32TeX) (preloaded format=pdflatex) #  restricted \\write18 enabled. # ... # ... # Output written on Rd2.pdf (3 pages, 67578 bytes). # Transcript written on Rd2.log. # Saving output to 'G:/repos//PkgTestR_0.0.0.9000.pdf' ... # Done"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"using-an-installed-package","dir":"Articles","previous_headings":"","what":"Using an Installed Package","title":"Using devtools to Create a R Package","text":"developed function, proper documentation/markup, also vignette, can now install function, load memory, start using function. working development code, conveninent use devtools::load_all function, take source code, put memory.","code":"# Load all code to memory devtools::load_all(path=\"G:/repos/PkgTestR\")  # Check out documentations for each function ?PkgTestR::ff_rtest_add_basic ?PkgTestR::ff_rtest_mul_basic  # Test the functions PkgTestR::ff_rtest_add_basic(1,2) PkgTestR::ff_rtest_mul_basic(1,2)  # Show all Vignettes vignette(package=\"PkgTestR\") # Show a particular Vignette vignette(\"ffv_devtools_create_package\", package=\"PkgTestR\")"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"pkgdown-build-site","dir":"Articles","previous_headings":"","what":"pkgdown Build Site","title":"Using devtools to Create a R Package","text":"Use pkgdown create website show package. See page Generate Package Website pkgdown Github Pages information.","code":"# Run once to configure package to use pkgdown usethis::use_pkgdown() # Run to build the website pkgdown::build_site()"},{"path":[]},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"could-not-find-function","dir":"Articles","previous_headings":"Errors","what":"Could not find function","title":"Using devtools to Create a R Package","text":"writing function, running devtools::run_examples(), get error message “find function”function_name”“. likely function exported, can exported like , add function NAMESPACE","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_devtools_create_package.html","id":"errors-during-check","dir":"Articles","previous_headings":"Errors","what":"Errors During Check","title":"Using devtools to Create a R Package","text":"end check, following message appears, means need include devtools suggest field DESCRIPTION. See .","code":"checking for unstated dependencies in vignettes ... NOTE   '::' or ':::' import not declared from: 'devtools'   'library' or 'require' call not declared from: 'devtools'"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_gen_data_rda.html","id":"create-a-data-raw-folder","dir":"Articles","previous_headings":"","what":"Create a data-raw folder","title":"Generate and document R data files","text":"Following Hadley advice: Often, data include data/ cleaned version raw data ’ve gathered elsewhere. highly recommend taking time include code used source version package. make easy update reproduce version data. suggest put code data-raw/. set-data-raw/ folder, run routine use_data_raw(). Note added gitignore, contents store git repo. See example data-raw folder Hadley: babynames. inside data-raw/DATASET.R file, line code uses use_data properly store rda files.","code":"usethis::use_data_raw(name = \"DATASET\")  # ✔ Creating 'data-raw/' # ✔ Adding '^data-raw$' to '.Rbuildignore' # ✔ Writing 'data-raw/DATASET.R' # • Modify 'data-raw/DATASET.R' # • Finish the data preparation script in 'data-raw/DATASET.R' # • Use `usethis::use_data()` to add prepared data to package ## code to prepare `DATASET` dataset goes here  usethis::use_data(DATASET, overwrite = TRUE)"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_gen_data_rda.html","id":"write-a-dataset-r-function","dir":"Articles","previous_headings":"","what":"Write a DATASET.R function","title":"Generate and document R data files","text":"data-raw folder, develop script generate simulated dataset. Using R code R Anything Function Dataframe Rows Expansion, (Mx1 N) (MxQ N+1), create dataset five variables. run following script, data-raw/simu_income_v5n9.R, generates readable data-raw/simu_income_v5n9.csv binary simu_income_v5n9.rda files. simulated dataset five variable nine observations. generated CSV file Running code , get following outputs:","code":"# can initialize the file with this: # usethis::use_data_raw(name = \"simu_income_v5n9\")  # Load library library(tibble) library(dplyr) library(tidyr) library(readr) library(usethis)  # Code below is from: # https://fanwangecon.github.io/R4Econ/function/dof/htmlpdfr/fs_funceval_expand.html # https://github.com/FanWangEcon//R4Econ/blob/master/function/dof//htmlpdfr/fs_funceval_expand.R  # Parameter Setups it_M <- 3 it_Q_max <- 5 fl_rnorm_mu <- 1000 ar_rnorm_sd <- seq(0.01, 200, length.out = it_M) set.seed(123) ar_it_q <- sample.int(it_Q_max, it_M, replace = TRUE)  # N by Q varying parameters mt_data <- cbind(ar_it_q, ar_rnorm_sd) tb_M <- as_tibble(mt_data) %>%   rowid_to_column(var = \"ID\") %>%   rename(sd = ar_rnorm_sd, Q = ar_it_q) %>%   mutate(mean = fl_rnorm_mu)  # normal draw expansion dot dollar # Generate $Q_m$ individual specific incomes, expanded different # number of times for each m tb_income <- tb_M %>%   group_by(ID) %>%   do(income = rnorm(.$Q, mean = .$mean, sd = .$sd)) %>%   unnest(c(income))  # Merge back with tb_M tb_income_full_dd <- tb_income %>% left_join(tb_M)  # Final name simu_income_v5n9 <- tb_income_full_dd  # Write to CSV and write to rda write_csv(simu_income_v5n9, \"data-raw/simu_income_v5n9.csv\") # this saves in the data folder usethis::use_data(simu_income_v5n9, overwrite = TRUE) #  Adding 'R' to Depends field in DESCRIPTION # ✔ Creating 'data/' # ✔ Setting LazyData to 'true' in 'DESCRIPTION' # ✔ Saving 'simu_income_v5n9' to 'data/simu_income_v5n9.rda' # • Document your data (see 'https://r-pkgs.org/data.html')"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_gen_data_rda.html","id":"document-dta-files","dir":"Articles","previous_headings":"","what":"Document dta files","title":"Generate and document R data files","text":"R folder, create single file data.R, document datasets included data/ folder. , document variable names @format tag. Initially, put “sd” twice, put “mean”. Upon running devtools::check(), received following warning indicates documentation checked actual dataset, using codoc. codoc following: Find inconsistencies actual documented ‘structure’ R objects package. codoc compares names optionally also corresponding positions default values arguments functions. codocClasses codocData compare slot names S4 classes variable names data sets, respectively.","code":"#' Simulated unbalanced income panel #' #' Generate a panel with M individuals, each individual is observed #' for different spans of times. Before expanding, generate individual #' specific normal distribution standard deviation. All individuals #' share the same mean, but have increasing standard deviations. #' #' #' @format A data frame with 9 rows and 5 variables: #' \\describe{ #'   \\item{ID}{Individual ID} #'   \\item{income}{Simulated income} #'   \\item{Q}{Number of observed periods for each individual} #'   \\item{sd}{Individual-specific income standard deviation} #'   \\item{mean}{Individual-specific income mean} #' } #' @source \\href{R Do Anything Function over Dataframe Rows Expansion, (Mx1 by N) to (MxQ by N+1)}{https://fanwangecon.github.io/R4Econ/function/dof/htmlpdfr/fs_funceval_expand.html} #' @examples #' data(simu_income_v5n9) \"simu_income_v5n9\" W  checking for code/documentation mismatches (576ms)    Data codoc mismatches from documentation object 'simu_income_v5n9':    Variables in data frame 'simu_income_v5n9'      Code: ID Q income mean sd      Docs: ID Q income sd sd"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_pkgdown_github.html","id":"set-up-git-github-repository-and-github-actions","dir":"Articles","previous_headings":"","what":"Set up Git, Github Repository, and Github Actions","title":"R Package Site with pkgdown, Github Pages and Actions","text":"Develop package, includes functions ROxygen2 documentation also vignette files. , use functions usethis automate various git github related tasks. use : usethis::use_git(message = “Initial commit”), makes folder git folder. usethis::use_github(private = FALSE), creates local folder github repository (assuming authentication established already locally). usethis::use_github_action(“pkgdown”), copies set instructions Github Action. usethis::use_pkgdown_github_pages(), creates remote “gh-pages” branch run Github Action first time. set , future, edit functions vignette files, test functions locally, build site locally pkgdown::build_site() gitignored folder. pushed commits remote repo trigue running Github Actions , lead update website.","code":"# One time set-up with Git, Github, and Github Actions usethis::use_git(message = \"Initial commit\") usethis::use_github(private = FALSE) usethis::use_github_action(\"pkgdown\") usethis::use_pkgdown_github_pages()  # locally building site pkgdown::build_site()  # Install package devtools::install_github(\"FanWangEcon/PkgTestR\")"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_pkgdown_github.html","id":"initialize-git","dir":"Articles","previous_headings":"Set up Git, Github Repository, and Github Actions","what":"Initialize Git","title":"R Package Site with pkgdown, Github Pages and Actions","text":"First, initialize project folder git folder usethis::use_git(), commit existing non-gitignored files. See .gitignore file documents ignored. commited changes, can use VSCode, Atom, various editors monitor track changes manage git operations. RStudio also provides top-right pane git tab. additional information, see set git, github, github pages, etc, outside R environment.","code":"# Make sure we are in the \"G:/repos/PkgTestR/\" directory usethis::use_git(message = \"Initial commit\")  # ✔ Initialising Git repo # ✔ Adding '.Rhistory', '.Rdata', '.httr-oauth', '.DS_Store' to '.gitignore' # There are 10 uncommitted files: # * '.gitignore' # * '.Rbuildignore' # * '_pkgdown.yml' # * 'DESCRIPTION' # * 'LICENSE' # * 'man/' # * 'NAMESPACE' # * 'PkgTestR.Rproj' # * 'R/' # * 'vignettes/' # Is it ok to commit them? #  # 1: Absolutely not # 2: Yup # 3: No way #  # Selection: 2 # ✔ Adding files # ✔ Making a commit with message 'Initial commit' # • A restart of RStudio is required to activate the Git pane # Restart now? #  # 1: No # 2: Yes # 3: Negative #  # Selection: 1"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_pkgdown_github.html","id":"connect-to-github","dir":"Articles","previous_headings":"Set up Git, Github Repository, and Github Actions","what":"Connect to Github","title":"R Package Site with pkgdown, Github Pages and Actions","text":"Second, connect github using usethis::use_github(). Calling , repo git-initialized, accomplishes following: Creates remote repo github (authenticated account) name local project folder name Set remote Update URL fields R package Commits pushes local remote Open remote repo site: https://github.com/FanWangEcon/PkgTestR Prior , authentication set . Managing Git(Hub) Credentials. See additional authentication details .","code":"usethis::use_github(private = FALSE)  # ℹ Defaulting to 'https' Git protocol # ✔ Setting active project to 'G:/repos/PkgTestR' # There are uncommitted changes and we're about to create and push to a new GitHub repo # Do you want to proceed anyway? #  # 1: Yeah # 2: No way # 3: Nope #  # Selection: Yeah # ✔ Creating GitHub repository 'FanWangEcon/PkgTestR' # ✔ Setting remote 'origin' to 'https://github.com/FanWangEcon/PkgTestR.git' # ✔ Setting URL field in DESCRIPTION to 'https://github.com/FanWangEcon/PkgTestR' # ✔ Setting BugReports field in DESCRIPTION to 'https://github.com/FanWangEcon/PkgTestR/issues' # There is 1 uncommitted file: # * 'DESCRIPTION' # Is it ok to commit it? #  # 1: Negative # 2: Definitely # 3: No way #  # Selection: 2 # ✔ Adding files # ✔ Making a commit with message 'Add GitHub links to DESCRIPTION' # ✔ Pushing 'master' branch to GitHub and setting 'origin/master' as upstream branch # ✔ Opening URL 'https://github.com/FanWangEcon/PkgTestR'"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_pkgdown_github.html","id":"set-up-github-actions","dir":"Articles","previous_headings":"Set up Git, Github Repository, and Github Actions","what":"Set up Github Actions","title":"R Package Site with pkgdown, Github Pages and Actions","text":"Third, setup Github Actions using usethis::use_github_actions(). automates number package building procedures building project’s public facing website. command generates file .github/workflows/pkgdown.yaml, copied r-lib actions. instructions build site deploy Github pages, gh-pages branch github repo.","code":"usethis::use_github_action(\"pkgdown\")  # ✔ Saving 'r-lib/actions/examples/pkgdown.yaml@v2' to '.github/workflows/pkgdown.yaml' # • Learn more at <https://github.com/r-lib/actions/blob/v2/examples/README.md>."},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_pkgdown_github.html","id":"push-and-create-pkgdown-website","dir":"Articles","previous_headings":"Set up Git, Github Repository, and Github Actions","what":"Push and Create pkgdown Website","title":"R Package Site with pkgdown, Github Pages and Actions","text":"Running usethis::use_pkgdown_github_pages() update population various files proper url. also create repo repository branch “gh-pages”, used publish site.","code":"usethis::use_pkgdown_github_pages()  # Overwrite pre-existing file '_pkgdown.yml'? #  # 1: Definitely # 2: Absolutely not # 3: Not now #  # Selection: 1 # ✔ Writing '_pkgdown.yml' # • Modify '_pkgdown.yml' # ✔ Initializing empty, orphan 'gh-pages' branch in GitHub repo 'FanWangEcon/PkgTestR' # ✔ GitHub Pages is publishing from: # • URL: 'https://fanwangecon.github.io/PkgTestR/' # • Branch: 'gh-pages' # • Path: '/' # ✔ Saving 'r-lib/actions/examples/pkgdown.yaml@v2' to '.github/workflows/pkgdown.yaml' # • Learn more at <https://github.com/r-lib/actions/blob/v2/examples/README.md>. # ✔ Recording 'https://fanwangecon.github.io/PkgTestR/' as site's url in '_pkgdown.yml' # ✔ Adding 'https://fanwangecon.github.io/PkgTestR/' to URL field in DESCRIPTION # ✔ Setting 'https://fanwangecon.github.io/PkgTestR/' as homepage of GitHub repo 'FanWangEcon/PkgTestR'"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_pkgdown_github.html","id":"continuous-development","dir":"Articles","previous_headings":"","what":"Continuous Development","title":"R Package Site with pkgdown, Github Pages and Actions","text":"set , future, edit functions vignette files, test functions locally, build site locally pkgdown::build_site(), whose outputs stored gitignored folder pushed remote repo. can also use devtools::check make sure various documentations etc proper. completed local testing, can commit push. pushed commits remote repo trigue running Github Actions , lead update website. allows continuous package development. Note confident new code instructions, can commit push without local testing, running devtools::document(), results generated function man folder commited. Results check build_site change contents pushed remote.","code":"# Update the .Rd files if .R files have been modified.  devtools::document() # locally building site pkgdown::build_site()"},{"path":"https://fanwangecon.github.io/PkgTestR/articles/ffv_pkgdown_github.html","id":"installing-the-package-","dir":"Articles","previous_headings":"","what":"Installing the Package.","title":"R Package Site with pkgdown, Github Pages and Actions","text":"repository github, can use devtools::install_github install latest version package locally.","code":"# remove.packages(\"PkgTestR\") devtools::install_github(\"FanWangEcon/PkgTestR\")"},{"path":"https://fanwangecon.github.io/PkgTestR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Fan Wang. Author, maintainer.","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Wang F (2022). PkgTestR: R Package Building Tutorial. https://github.com/FanWangEcon/PkgTestR, https://fanwangecon.github.io/PkgTestR/.","code":"@Manual{,   title = {PkgTestR: R Package Building Tutorial},   author = {Fan Wang},   year = {2022},   note = {https://github.com/FanWangEcon/PkgTestR, https://fanwangecon.github.io/PkgTestR/}, }"},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_add_basic.html","id":null,"dir":"Reference","previous_headings":"","what":"Add together two numbers — ff_rtest_add_basic","title":"Add together two numbers — ff_rtest_add_basic","text":"function provides example Roxygen2 markups. can internally reference sister function ff_rtest_mul_basic(). Display equation shown $$x + y$$","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_add_basic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add together two numbers — ff_rtest_add_basic","text":"","code":"ff_rtest_add_basic(ar_fl_x, ar_fl_y)"},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_add_basic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add together two numbers — ff_rtest_add_basic","text":"ar_fl_x Scalar vector numbers ar_fl_y Scalar vector numbers","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_add_basic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add together two numbers — ff_rtest_add_basic","text":"named list sum related values ar_fl_sum - sum ar_fl_x ar_fl_y, inline equation \\(x + y\\). ar_fl_x - x value input ar_fl_y - y value input","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_add_basic.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Add together two numbers — ff_rtest_add_basic","text":"https://cran.r-project.org/web/packages/roxygen2/vignettes/roxygen2.html roxygen2","code":""},{"path":[]},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_add_basic.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Add together two numbers — ff_rtest_add_basic","text":"Fan Wang, http://fanwangecon.github.io","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_add_basic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add together two numbers — ff_rtest_add_basic","text":"","code":"ff_rtest_add_basic(1, 1) #> $ar_fl_sum #> [1] 2 #>  #> $ar_fl_x #> [1] 1 #>  #> $ar_fl_y #> [1] 1 #>  ff_rtest_add_basic(c(10, 10), c(1, 3)) #> $ar_fl_sum #> [1] 11 13 #>  #> $ar_fl_x #> [1] 10 10 #>  #> $ar_fl_y #> [1] 1 3 #>"},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_mul_basic.html","id":null,"dir":"Reference","previous_headings":"","what":"Multiply together two numbers — ff_rtest_mul_basic","title":"Multiply together two numbers — ff_rtest_mul_basic","text":"function provides example Roxygen2 markups. can internally reference sister function ff_rtest_add_basic(). Display equation shown $$x \\cdot y$$","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_mul_basic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multiply together two numbers — ff_rtest_mul_basic","text":"","code":"ff_rtest_mul_basic(ar_fl_x, ar_fl_y)"},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_mul_basic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multiply together two numbers — ff_rtest_mul_basic","text":"ar_fl_x Scalar vector numbers, length ar_fl_y ar_fl_y Scalar vector numbers, length ar_fl_x","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_mul_basic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multiply together two numbers — ff_rtest_mul_basic","text":"product ar_fl_x ar_fl_y inline equation \\(x \\cdot y\\).","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_mul_basic.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Multiply together two numbers — ff_rtest_mul_basic","text":"https://cran.r-project.org/web/packages/roxygen2/vignettes/roxygen2.html","code":""},{"path":[]},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_mul_basic.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Multiply together two numbers — ff_rtest_mul_basic","text":"Fan Wang, http://fanwangecon.github.io","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/reference/ff_rtest_mul_basic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Multiply together two numbers — ff_rtest_mul_basic","text":"","code":"ff_rtest_mul_basic(1, 1) #> [1] 1 ff_rtest_mul_basic(c(10,10), c(1,3)) #> [1] 10 30"},{"path":"https://fanwangecon.github.io/PkgTestR/reference/simu_income_v5n9.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulated unbalanced income panel — simu_income_v5n9","title":"Simulated unbalanced income panel — simu_income_v5n9","text":"Generate panel M individuals, individual observed different spans times. expanding, generate individual specific normal distribution standard deviation. individuals share mean, increasing standard deviations.","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/reference/simu_income_v5n9.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulated unbalanced income panel — simu_income_v5n9","text":"","code":"simu_income_v5n9"},{"path":"https://fanwangecon.github.io/PkgTestR/reference/simu_income_v5n9.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Simulated unbalanced income panel — simu_income_v5n9","text":"data frame 9 rows 5 variables: ID Individual ID income Simulated income Q Number observed periods individual sd Individual-specific income standard deviation mean Individual-specific income mean","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/reference/simu_income_v5n9.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Simulated unbalanced income panel — simu_income_v5n9","text":"https://fanwangecon.github.io/R4Econ/function/dof/htmlpdfr/fs_funceval_expand.html","code":""},{"path":"https://fanwangecon.github.io/PkgTestR/reference/simu_income_v5n9.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulated unbalanced income panel — simu_income_v5n9","text":"","code":"data(simu_income_v5n9) print(simu_income_v5n9) #> # A tibble: 8 × 5 #>      ID income     Q     sd  mean #>   <int>  <dbl> <dbl>  <dbl> <dbl> #> 1     1  1000.     3   0.01  1000 #> 2     1  1000.     3   0.01  1000 #> 3     1  1000.     3   0.01  1000 #> 4     2  1046.     3 100.    1000 #> 5     2   873.     3 100.    1000 #> 6     2   931.     3 100.    1000 #> 7     3   911.     2 200     1000 #> 8     3  1245.     2 200     1000"}]
